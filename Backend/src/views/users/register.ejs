<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head', { pageTitle: title }) %>
  </head>
  <body>
    <%- include('../partials/header', { headerClass: 'header-black' }) %>
    <main>
      <section class="box-form">
        <h1 class="title-users">Crea tu cuenta</h1>
        <form
          action="/users/register"
          method="POST"
          id="registerForm"
          enctype="multipart/form-data"
        >
          <div class="form-group">
            <input
              type="text"
              name="firstName"
              id="firstName"
              placeholder="Nombre"
              value="<%= formData.firstName || '' %>"
              class="<%= errors.firstName ? 'error-input' : '' %>"
            />
            <% if (errors.firstName) { %>
            <span class="error"><%= errors.firstName.msg %></span>
            <% } %>
          </div>

          <div class="form-group">
            <input
              type="text"
              name="lastName"
              id="lastName"
              placeholder="Apellido"
              value="<%= formData.lastName || '' %>"
              class="<%= errors.lastName ? 'error-input' : '' %>"
            />
            <% if (errors.lastName) { %>
            <span class="error"><%= errors.lastName.msg %></span>
            <% } %>
          </div>

          <div class="form-group">
            <input
              type="email"
              name="email"
              id="email"
              placeholder="Email"
              value="<%= formData.email || '' %>"
              class="<%= errors.email ? 'error-input' : '' %>"
            />
            <% if (errors.email) { %>
            <span class="error"><%= errors.email.msg %></span>
            <% } %>
          </div>

          <div class="form-group">
            <input
              type="text"
              name="phone"
              id="phone"
              placeholder="Teléfono"
              value="<%= formData.phone || '' %>"
              class="<%= errors.phone ? 'error-input' : '' %>"
            />
            <% if (errors.phone) { %>
            <span class="error"><%= errors.phone.msg %></span>
            <% } %>
          </div>

          <div class="form-group">
            <input
              type="text"
              name="shippingAddress"
              id="shipping-address"
              placeholder="Dirección de envío"
              value="<%= formData.shippingAddress || '' %>"
              class="<%= errors.shippingAddress ? 'error-input' : '' %>"
            />
            <% if (errors.shippingAddress) { %>
            <span class="error"><%= errors.shippingAddress.msg %></span>
            <% } %>
          </div>

          <div class="form-group">
            <input
              type="password"
              name="password"
              id="password"
              placeholder="Contraseña"
              class="<%= errors.password ? 'error-input' : '' %>"
            />
            <span id="eye-icon">
              <i class="fas fa-eye-slash" id="eye-off-outline"></i>
            </span>
            <% if (errors.password) { %>
            <span class="error"><%= errors.password.msg %></span>
            <% } %>
          </div>

          <div>
            <label for="file-upload">Incluya una foto</label>
            <input type="file" id="avatar" name="avatar"/>
          </div>

          <label for="userType">Tipo de Usuario:</label>
          <select id="userType" name="userType">
            <option value="Registrado">Registrado</option>
            <option value="Administrador">Administrador</option>
          </select>

          <div class="form-group">
            <label for="terms" class="terms-label">
              <input type="checkbox" id="terms" name="terms" <%= formData.terms
              ? 'checked' : '' %> /> Acepto los
              <a href="#">términos y condiciones</a>
            </label>
          </div>
          <% if (errors.terms) { %>
          <span class="error"><%= errors.terms.msg %></span>
          <% } %>

          <button type="submit" class="btn-submit">Registrarse</button>
          <p class="link-iniciarSesion">
            ¿Ya tienes cuenta?
            <a href="/users/login">Inicia Sesión</a>
          </p>
        </form>
      </section>
    </main>

    <%- include('../partials/footer') %>

    <script src="/javascripts/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
  </body>
</html>
